{"version":3,"sources":["../../scripts.babel/controllers/one-tab.js"],"names":[],"mappings":"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","file":"one-tab.js","sourcesContent":["'use strict';\n\nangular.module('TabMagicApp')\n\n.controller('OneTabCtrl', function($scope, $moment, $tabs){\n\n\t// Navigation\n\t$scope.navigation = 'bringToOne';\n\n\t// Show requested action button\n\t$scope.actionButtonShow = function(button){\n\n\t\t// Catcher\n\t\tvar show = false;\n\n\t\t// Bring to one\n\t\tif('bringToOne' === button && $scope.oneTab.data){\n\t\t\tangular.forEach($scope.oneTab.data.tmOneTabSelectedTabs, function(tab){\n\t\t\t\tif(tab.tmSelected){\n\t\t\t\t\tshow = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn show;\n\n\t};\n\n\t// Define one tab\n\t$scope.oneTab = {\n\n\t\t// Data\n\t\tdata: null,\n\n\t\t// Initialize\n\t\tinit: function(){\n\n\t\t\t// Get information from storage\n\t\t\tchrome.storage.sync.get(['tmOneTabSelectedTabs', 'tmOneTabCreateDate'], function(items){\n\n\t\t\t\t// Set data\n\t\t\t\t$scope.oneTab.data = angular.copy(items);\n\t\t\t\t$scope.oneTab.data.tmOneTabCreateDate = $moment($scope.oneTab.data.tmOneTabCreateDate).format('llll');\n\n\t\t\t\t// Loop through selected tabs\n\t\t\t\tangular.forEach($scope.oneTab.data.tmOneTabSelectedTabs, function(tab){\n\n\t\t\t\t\t// Unselect tab\n\t\t\t\t\ttab.tmSelected = false;\n\n\t\t\t\t\t// Remove chrome tab\n\t\t\t\t\tchrome.tabs.remove(tab.id);\n\n\t\t\t\t});\n\n\t\t\t\t// Apply to scope\n\t\t\t\t$scope.$apply();\n\n\t\t\t});\n\n\t\t},\n\n\t\t// Reopen\n\t\treopen: function(){\n\n\t\t\t// Selected tabs\n\t\t\tvar selected = [];\n\t\t\tvar toRemove = [];\n\n\t\t\t// Loop through selected tabs\n\t\t\tangular.forEach($scope.oneTab.data.tmOneTabSelectedTabs, function(tab, index){\n\t\t\t\tif(tab.tmSelected){\n\n\t\t\t\t\t// Add to select\n\t\t\t\t\tselected.push(tab);\n\n\t\t\t\t\t// Add to remove\n\t\t\t\t\ttoRemove.push(index);\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// If there are any selected tabs\n\t\t\tif(selected.length > 0){\n\n\t\t\t\t// Loop through selected tabs\n\t\t\t\tangular.forEach(selected, function(tab){\n\n\t\t\t\t\t// Call create from tab service\n\t\t\t\t\t$tabs.create(tab.url);\n\n\t\t\t\t});\n\n\t\t\t\t// Reverse then loop through toRemove\n\t\t\t\ttoRemove.reverse();\n\t\t\t\tangular.forEach(toRemove, function(index){\n\n\t\t\t\t\t// Remove tab\n\t\t\t\t\t$scope.oneTab.remove(index);\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t},\n\n\t\t// Remove\n\t\tremove: function(index){\n\t\t\t$scope.oneTab.data.tmOneTabSelectedTabs.splice(index, 1);\n\t\t},\n\n\t\t// Remove all\n\t\tremoveAll: function(){\n\t\t\t$scope.oneTab.data.tmOneTabSelectedTabs.length = 0;\n\t\t}\n\n\t};\n\n\t// Initialize oneTab\n\t$scope.oneTab.init();\n\n});"]}